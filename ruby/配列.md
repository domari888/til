# 配列
配列は`Array クラス`のオブジェクトで`[]`の中に要素を格納して`,`で区切って複数表示する事ができる。
```
[要素, 要素, 要素]
```
  
## 配列を定義する
```rb
array = [1, 2, 3]

array
#=> [1, 2, 3]
```
```rb
array = [
         1,
         2,
         3
        ]

array
#=> [1, 2, 3]
```
```rb
array = Array[1, 2, 3]

array
#=> [1, 2, 3]
  
### 空の配列を定義する
```rb
array = []

array
#=> []
```
```rb
array = Array.new

array
#=> []
```
  
### 配列にデフォルト値を設定する
引数に渡した数値の個数分の要素を持つ配列を作成する(デフォルト値は`nil`)
```rb
array = Array.new(3)

array
#=> [nil, nil, nil]
```
第二引数にデフォルト値を指定する
```rb
array = Array.new(3, 0)

array
#=> [0, 0, 0]
```
```rb
array = Array.new(3, 'Ruby')

array
#=> ['Ruby', 'Ruby', 'Ruby']
```
引数に渡した数値の回数分ブロックを呼び、その戻り値をデフォルト値に設定する  
ブロックパラメータはインデックスが渡される
```rb
array = Array.new(3){ |n| n + 1 }

array
#=> [1, 2, 3]
```
### 配列の中に配列を定義する(二次元配列)
```rb
array = [[1, 2, 3][4, 5]]
```
### 文字列を配列に変換する
`chars`メソッドを使用して文字列を1文字ずつ配列の要素に分解する
```rb
'Ruby'.chars
#=> ['R', 'u', 'b', 'y']
```
`split`メソッドを使用して引数に渡した区切り文字で文字列を配列に分解する
```rb
'Ruby,PHP,Python'.split(',')
#=> ['Ruby', 'PHP', 'Python']
```
  
<br>
  
## 配列の要素を取得する
### インデックスを指定して要素を取得する
`配列名[インデックス]`の形式で要素を指定して取得する。  
インデックスは左から順番に`0`から付与される。
  
```rb
array = [1, 2, 3]

# 1つ目の要素を取得する
array[0]
#=> 1

array.first
#=> 1

# 3つ目の要素を取得する
array[2]
#=> 3

# 最後の要素を取得する
array[-1]
#=> 3

array.last
#=> 3

# 最後から2番目の要素を取得する
array[-2]
#=> 2

# 複数の要素を指定して取得する
array.values_at(0, 2)
#=> [1, 3]

array[100]
#=> nil
```
  
### 配列の位置と長さを指定して取得
```
配列[位置, 取得する長さ]
```
```rb
array = [1, 2, 3, 4, 5]

# 2番目の要素から3つ要素を取得する
array[1, 3]
#=> [2, 3, 4]

# 最初の要素から3つ要素を取得する
array.first(3)
#=> [1, 2, 3]

# 最後から2番目の要素から2つ要素を取得する
array[-2, 2]
#=> [4, 5]

array.last(2)
#=> [4, 5]
```
  
<br>
  
## 配列の要素の数を取得する
```rb
array = [1, 2, 3]

array.size
#=> 3

# length は size のエイリアスメソッド
array.length
#=> 3
```
  
<br>
  
## 配列の要素を変更する
### インデックスを指定して要素を変更する
```rb
array = [1, 2, 3]

# 2番目の要素を変更する
array[1] = 20
array
#=> [1, 20, 3]

# 最後から3番目の要素を変更する
array[-3] = 20
array
#=> [20, 2, 3]

# 指定可能な負の値以外の値を指定するとエラーとなる
array[-4] = 20
array
#=> エラー
```
### 開始位置と長さを指定して要素を変更
```rb
array = [1, 2, 3, 4, 5]

# 3番目の要素から3要素分置き換える
array[1, 3] = 100
array
#=> [1, 100, 5]
```
  
<br>
  
## 配列に要素を追加する
```rb
array = [1, 2, 3]
array[4] = 4

array
#=> [1, 20, 3, nil, 4]
```
  
```rb
array = []

array << 1
array
#=> [1]
```
### 複数の要素を追加する
```rb
array = [3]
array.push(1, 2)
array
#=> [3, 1, 2]
```
`*`(splat演算子)を使用することで配列を展開して追加する
```rb
a = [3]
b = [1, 2]

a.push(*b)
#=> [3, 1, 2]
```
  
<br>
  
## 配列から要素を削除する
### インデックスを指定して要素を削除する
```rb
array = [1, 2, 3]

array.delete_at(1)
#=> 2

array
#=> [1, 3]
```
  
```rb
array = [1, 2, 3]

array.delete_at(100)
#=> nil

array
#=> [1, 2, 3]
```
  
### 値を指定して要素を削除する
`delete`メソッドは削除した値が戻り値となる
```rb
array = [1, 2, 3, 2, 1]

array.delete(2)
#=> 2

array
#=> [1, 3, 1]
```
  
<br>
  
## 配列を使った多重代入
左辺の変数よりも右辺の要素が多い場合は切り捨てられる
```rb
a, b = [1, 2]

a
#=> 1

b
#=> 2
```
  
```rb
c, d = [10]

c
#=> 10

d
#=> nil
```
  
```rb
e, f = [1, 2, 3]

e
#=> 1

f
#=> 2
```
  
### 切り捨てずに全要素を変数に代入して配列で受け取る
左辺の変数に`*`をつける
```rb
a, *b = [1, 2, 3, 4]

a
#=> 1
b
#=> [2, 3, 4]
```
  
### 残りの要素を全て無視する
左辺の変数を省略して`*`をつける
```rb
a, * = [1, 2, 3, 4]

a
#=> 1
```
または、全て省略
```rb
a, = [1, 2, 3, 4]

a
#=> 1
```
  
### 間にある残りの全要素を変数に代入して配列で受け取る
```rb
a, *b, c = 1, 2, 3, 4

a
#=> 1
b
#=> [2, 3]
c
#=> 4
```
残りの要素がない場合は空の配列を返す
```rb
a, *b, c = 1, 2

a
#=> 1
b
#=> []
c
#=> 2
```
  
### 多重代入でメソッドの戻り値を別々の変数で受け取る
```rb
quotient, remainder = 14.divmod(3) # 14を3で割った商と余りを配列で返す

"商=#{quotient}, 余り=#{remainder}"
#=> "商=4, 余り=2"
```
  
<br>
  
## 配列を連結する
### `+`演算子で連結する
元の配列は変更せずに新しい配列を作成する
```rb
a = [1]
b = [2, 3]

a + b
#=> [1, 2, 3]
a
#=> [1]
b
#=> [2, 3]
```
  
### `*`(splat演算子)で連結する
配列の中で配列を展開して連結する。
```rb
a = [10, 20]

[1, 2, *a, 3, 4]
#=> [1, 2, 10, 20, 3, 4]
```
  
### `concat`メソッドで連結する(破壊的)
元の配列を変更して連結する
```rb
a = [1]
b = [2, 3]

a.concat(b)
#=> [1, 2, 3]
a
#=> [1, 2, 3]
b
#=>[2, 3]
```
